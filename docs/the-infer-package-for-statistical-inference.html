<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>The infer package for statistical inference | Data Analysis: Confidence Intervals and Model Parameter Selection</title>
  <meta name="description" content="The infer package for statistical inference | Data Analysis: Confidence Intervals and Model Parameter Selection" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="The infer package for statistical inference | Data Analysis: Confidence Intervals and Model Parameter Selection" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The infer package for statistical inference | Data Analysis: Confidence Intervals and Model Parameter Selection" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bootstrapping.html"/>
<link rel="next" href="constructing-confidence-intervals.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="model-parameter-selection.html"><a href="model-parameter-selection.html"><i class="fa fa-check"></i>Model Parameter Selection</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals-for-regression-parameters.html"><a href="confidence-intervals-for-regression-parameters.html"><i class="fa fa-check"></i>Confidence Intervals for Regression Parameters</a>
<ul>
<li class="chapter" data-level="" data-path="confidence-intervals-for-regression-parameters.html"><a href="confidence-intervals-for-regression-parameters.html#bootstrap-confidence-intervals-for-beta-in-simple-linear-regression-slr"><i class="fa fa-check"></i>Bootstrap Confidence Intervals for <span class="math inline">\(\beta\)</span> in Simple Linear Regression (SLR)</a></li>
<li class="chapter" data-level="" data-path="confidence-intervals-for-regression-parameters.html"><a href="confidence-intervals-for-regression-parameters.html#confidence-intervals-for-the-parameters-in-multiple-regression"><i class="fa fa-check"></i>Confidence Intervals for the parameters in multiple regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="inference-using-confidence-intervals.html"><a href="inference-using-confidence-intervals.html"><i class="fa fa-check"></i>Inference using Confidence Intervals</a>
<ul>
<li class="chapter" data-level="" data-path="inference-using-confidence-intervals.html"><a href="inference-using-confidence-intervals.html#simple-linear-regression"><i class="fa fa-check"></i>Simple Linear Regression</a></li>
<li class="chapter" data-level="" data-path="inference-using-confidence-intervals.html"><a href="inference-using-confidence-intervals.html#multiple-regression"><i class="fa fa-check"></i>Multiple Regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="variable-selection-using-confidence-intervals.html"><a href="variable-selection-using-confidence-intervals.html"><i class="fa fa-check"></i>Variable selection using confidence intervals</a></li>
<li class="chapter" data-level="" data-path="model-comparisons-using-objective-criteria.html"><a href="model-comparisons-using-objective-criteria.html"><i class="fa fa-check"></i>Model comparisons using objective criteria</a></li>
<li class="chapter" data-level="" data-path="a-final-word-on-model-selection.html"><a href="a-final-word-on-model-selection.html"><i class="fa fa-check"></i>A final word on model selection</a></li>
<li class="chapter" data-level="" data-path="further-tasks-model-parameter-selection.html"><a href="further-tasks-model-parameter-selection.html"><i class="fa fa-check"></i>Further Tasks: Model Parameter Selection</a></li>
<li class="chapter" data-level="" data-path="inference-via-sampling.html"><a href="inference-via-sampling.html"><i class="fa fa-check"></i>Inference via sampling</a></li>
<li class="chapter" data-level="" data-path="inference-using-sample-statistics.html"><a href="inference-using-sample-statistics.html"><i class="fa fa-check"></i>Inference using sample statistics</a></li>
<li class="chapter" data-level="" data-path="bootstrapping.html"><a href="bootstrapping.html"><i class="fa fa-check"></i>Bootstrapping</a>
<ul>
<li class="chapter" data-level="" data-path="bootstrapping.html"><a href="bootstrapping.html#exploratory-data-analysis"><i class="fa fa-check"></i>Exploratory data analysis</a></li>
<li class="chapter" data-level="" data-path="bootstrapping.html"><a href="bootstrapping.html#the-bootstrapping-process"><i class="fa fa-check"></i>The Bootstrapping Process</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="the-infer-package-for-statistical-inference.html"><a href="the-infer-package-for-statistical-inference.html"><i class="fa fa-check"></i>The <span><code>infer</code></span> package for statistical inference</a>
<ul>
<li class="chapter" data-level="" data-path="the-infer-package-for-statistical-inference.html"><a href="the-infer-package-for-statistical-inference.html#specify"><i class="fa fa-check"></i><code>specify()</code></a></li>
<li class="chapter" data-level="" data-path="the-infer-package-for-statistical-inference.html"><a href="the-infer-package-for-statistical-inference.html#generate"><i class="fa fa-check"></i><code>generate()</code></a></li>
<li class="chapter" data-level="" data-path="the-infer-package-for-statistical-inference.html"><a href="the-infer-package-for-statistical-inference.html#calculate"><i class="fa fa-check"></i><code>calculate()</code></a>
<ul>
<li class="chapter" data-level="" data-path="the-infer-package-for-statistical-inference.html"><a href="the-infer-package-for-statistical-inference.html#observed-statistic"><i class="fa fa-check"></i>Observed statistic</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="the-infer-package-for-statistical-inference.html"><a href="the-infer-package-for-statistical-inference.html#visualize"><i class="fa fa-check"></i><code>visualize()</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="constructing-confidence-intervals.html"><a href="constructing-confidence-intervals.html"><i class="fa fa-check"></i>Constructing confidence intervals</a>
<ul>
<li class="chapter" data-level="" data-path="constructing-confidence-intervals.html"><a href="constructing-confidence-intervals.html#the-percentile-method"><i class="fa fa-check"></i>1. The percentile method</a></li>
<li class="chapter" data-level="" data-path="constructing-confidence-intervals.html"><a href="constructing-confidence-intervals.html#the-standard-error-method"><i class="fa fa-check"></i>2. The standard error method</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="interpreting-the-confidence-interval.html"><a href="interpreting-the-confidence-interval.html"><i class="fa fa-check"></i>Interpreting the confidence interval</a></li>
<li class="chapter" data-level="" data-path="comparing-two-proportions.html"><a href="comparing-two-proportions.html"><i class="fa fa-check"></i>Comparing two proportions</a>
<ul>
<li class="chapter" data-level="" data-path="comparing-two-proportions.html"><a href="comparing-two-proportions.html#compute-the-point-estimate"><i class="fa fa-check"></i>Compute the point estimate</a></li>
<li class="chapter" data-level="" data-path="comparing-two-proportions.html"><a href="comparing-two-proportions.html#bootstrap-distribution"><i class="fa fa-check"></i>Bootstrap distribution</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="further-tasks-confidence-intervals.html"><a href="further-tasks-confidence-intervals.html"><i class="fa fa-check"></i>Further Tasks: Confidence Intervals</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis: Confidence Intervals and Model Parameter Selection</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-infer-package-for-statistical-inference" class="section level1 unnumbered hasAnchor">
<h1>The <a href="https://www.rdocumentation.org/packages/infer/versions/0.4.0"><code>infer</code></a> package for statistical inference<a href="the-infer-package-for-statistical-inference.html#the-infer-package-for-statistical-inference" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The <code>infer</code> package makes great use of the <code>tidyverse</code> "pipe" <code>%&gt;%</code> to create a pipeline for statistical inference. The goal of the package is to provide a way for its users to explain the computational process of confidence intervals and hypothesis tests using the code as a guide. The verbs build in order here, so you'll want to start with <code>specify()</code> and then continue through the others as needed.</p>
<div id="specify" class="section level2 unnumbered hasAnchor">
<h2><code>specify()</code><a href="the-infer-package-for-statistical-inference.html#specify" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/flowcharts/infer/specify.png" style="display: block; margin: auto;" /></p>
<p>The <code>specify()</code> function is used primarily to choose which variables will be the focus of the statistical inference. In addition, a setting of which variable will act as the <code>explanatory</code> and which acts as the <code>response</code> variable is done here. For proportion problems (i.e. Scenarios 1 &amp; 3 in Table 1) we also specify which of the different levels we are calculating the proportion of (e.g. "females", "approve of Obama's job performance", etc.).</p>
<p>To begin to create a confidence interval for the population mean age of US pennies in 2011, we start by using <code>specify()</code> to choose which variable in our <code>orig_pennies_sample</code> data we'd like to work with. This can be done in one of two ways:</p>
<ol style="list-style-type: decimal">
<li>Using the <code>response</code> argument:</li>
</ol>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="the-infer-package-for-statistical-inference.html#cb38-1" aria-hidden="true" tabindex="-1"></a>orig_pennies_sample <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="the-infer-package-for-statistical-inference.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> age_in_2011)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Using <code>formula</code> notation:</li>
</ol>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="the-infer-package-for-statistical-inference.html#cb39-1" aria-hidden="true" tabindex="-1"></a>orig_pennies_sample <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="the-infer-package-for-statistical-inference.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">formula =</span> age_in_2011 <span class="sc">~</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p>Note that the formula notation uses the common R methodology to include the response <span class="math inline">\(y\)</span> variable on the left of the <code>~</code> and the explanatory <span class="math inline">\(x\)</span> variable on the right of the "tilde." Recall that you used this notation frequently with the <code>lm()</code> function when fitting linear regression models. Either notation works just fine, but a preference is usually given here for the <code>formula</code> notation to further build on the ideas from earlier chapters.</p>
</div>
<div id="generate" class="section level2 unnumbered hasAnchor">
<h2><code>generate()</code><a href="the-infer-package-for-statistical-inference.html#generate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/flowcharts/infer/generate.png" style="display: block; margin: auto;" /></p>
<p>After <code>specify()</code>ing the variables we'd like in our inferential analysis, we next feed that into the <code>generate()</code> verb. The <code>generate()</code> verb's main argument is <code>reps</code>, which is used to give how many different repetitions one would like to perform. Another argument here is <code>type</code>, which is automatically determined by the kinds of variables passed into <code>specify()</code>. We can also be explicit and set this <code>type</code> to be <code>type = "bootstrap"</code>. Make sure to check out <code>?generate</code> to see the options here and use the <code>?</code> operator to better understand other verbs as well.</p>
<p>Let's <code>generate()</code> 1000 bootstrap samples:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="the-infer-package-for-statistical-inference.html#cb40-1" aria-hidden="true" tabindex="-1"></a>thousand_bootstrap_samples <span class="ot">&lt;-</span> orig_pennies_sample <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="the-infer-package-for-statistical-inference.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> age_in_2011) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="the-infer-package-for-statistical-inference.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1000</span>)</span></code></pre></div>
<p>We can use the <code>dplyr</code> <code>count()</code> function to help us understand what the <code>thousand_bootstrap_samples</code> data frame looks like:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="the-infer-package-for-statistical-inference.html#cb41-1" aria-hidden="true" tabindex="-1"></a>thousand_bootstrap_samples <span class="sc">%&gt;%</span> <span class="fu">count</span>(replicate)</span></code></pre></div>
<pre><code># A tibble: 1,000 x 2
# Groups:   replicate [1,000]
   replicate     n
       &lt;int&gt; &lt;int&gt;
 1         1    40
 2         2    40
 3         3    40
 4         4    40
 5         5    40
 6         6    40
 7         7    40
 8         8    40
 9         9    40
10        10    40
# ... with 990 more rows
# i Use `print(n = ...)` to see more rows</code></pre>
<p><strong>Note</strong> This is equivalent to <code>thousand_bootstrap_samples %&gt;% group_by(replicate) %&gt;% summarise(n=n())</code></p>
<p>Notice that each <code>replicate</code> has 40 entries here. Now that we have 1000 different bootstrap samples, our next step is to <code>calculate</code> the bootstrap statistics for each sample.</p>
</div>
<div id="calculate" class="section level2 unnumbered hasAnchor">
<h2><code>calculate()</code><a href="the-infer-package-for-statistical-inference.html#calculate" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/flowcharts/infer/calculate.png" style="display: block; margin: auto;" /></p>
<p>After <code>generate()</code>ing many different samples, we next want to condense those samples down into a single statistic for each <code>replicate</code>d sample. As seen in the diagram, the <code>calculate()</code> function is helpful here.</p>
<p>As we did at the beginning of this chapter, we now want to calculate the mean <code>age_in_2011</code> for each bootstrap sample. To do so, we use the <code>stat</code> argument and set it to <code>"mean"</code> below. The <code>stat</code> argument has a variety of different options here and we will see further examples of this throughout the remaining chapters.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="the-infer-package-for-statistical-inference.html#cb43-1" aria-hidden="true" tabindex="-1"></a>bootstrap_distribution <span class="ot">&lt;-</span> orig_pennies_sample <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="the-infer-package-for-statistical-inference.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> age_in_2011) <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="the-infer-package-for-statistical-inference.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="the-infer-package-for-statistical-inference.html#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">&quot;mean&quot;</span>)</span>
<span id="cb43-5"><a href="the-infer-package-for-statistical-inference.html#cb43-5" aria-hidden="true" tabindex="-1"></a>bootstrap_distribution</span></code></pre></div>
<pre><code>Response: age_in_2011 (numeric)
# A tibble: 1,000 x 2
   replicate  stat
       &lt;int&gt; &lt;dbl&gt;
 1         1  24.6
 2         2  25.1
 3         3  29.8
 4         4  24.2
 5         5  26.0
 6         6  26.5
 7         7  26.8
 8         8  29.2
 9         9  21.8
10        10  23.8
# ... with 990 more rows
# i Use `print(n = ...)` to see more rows</code></pre>
<p>We see that the resulting data has 1000 rows and 2 columns corresponding to the 1000 replicates and the mean for each bootstrap sample.</p>
<div id="observed-statistic" class="section level3 unnumbered hasAnchor">
<h3>Observed statistic<a href="the-infer-package-for-statistical-inference.html#observed-statistic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Just as <code>group_by() %&gt;% summarize()</code> produces a useful workflow in <code>dplyr</code>, we can also use <code>specify() %&gt;% calculate()</code> to compute summary measures on our original sample data. It's often helpful both in confidence interval calculations and in hypothesis testing to identify what the corresponding statistic is in the original data. For our example on penny age, we computed above a value of <code>x_bar</code> using the <code>summarize()</code> verb in <code>dplyr</code>:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="the-infer-package-for-statistical-inference.html#cb45-1" aria-hidden="true" tabindex="-1"></a>orig_pennies_sample <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="the-infer-package-for-statistical-inference.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">stat =</span> <span class="fu">mean</span>(age_in_2011))</span></code></pre></div>
<pre><code># A tibble: 1 x 1
   stat
  &lt;dbl&gt;
1  25.1</code></pre>
<p>This can also be done by skipping the <code>generate()</code> step in the pipeline feeding <code>specify()</code> directly into <code>calculate()</code>:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="the-infer-package-for-statistical-inference.html#cb47-1" aria-hidden="true" tabindex="-1"></a>orig_pennies_sample <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="the-infer-package-for-statistical-inference.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> age_in_2011) <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="the-infer-package-for-statistical-inference.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">&quot;mean&quot;</span>)</span></code></pre></div>
<pre><code>Response: age_in_2011 (numeric)
# A tibble: 1 x 1
   stat
  &lt;dbl&gt;
1  25.1</code></pre>
<p>This shortcut will be particularly useful when the calculation of the observed statistic is tricky to do using <code>dplyr</code> alone. This is particularly the case when working with more than one variable.</p>
</div>
</div>
<div id="visualize" class="section level2 unnumbered hasAnchor">
<h2><code>visualize()</code><a href="the-infer-package-for-statistical-inference.html#visualize" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/flowcharts/infer/visualize.png" style="display: block; margin: auto;" /></p>
<p>The <code>visualize()</code> verb provides a simple way to view the bootstrap distribution as a histogram of the <code>stat</code> variable values. It has many other arguments that one can use as well including the shading of the histogram values corresponding to the confidence interval values.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="the-infer-package-for-statistical-inference.html#cb49-1" aria-hidden="true" tabindex="-1"></a>bootstrap_distribution <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="the-infer-package-for-statistical-inference.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visualize</span>()</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<p>The shape of this resulting distribution may look familiar to you. It resembles the well-known normal (bell-shaped) curve. It is, in fact, an estimate of the <strong>sampling variability</strong> of the sample statistic. If you think back to <em>Statistical Inference</em> in Semester 1 you will remember that the <em>Central Limit Theorem</em> predicted that the sampling distribution would be a <strong>normal distribution</strong>, as seen in the bell-shaped distribution here.</p>
<p>The following diagram recaps the <code>infer</code> pipeline for creating a bootstrap distribution.</p>
<p><img src="images/flowcharts/infer/ci_diagram.png" /><!-- --></p>
<p><br>
<br></p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="bootstrapping.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="constructing-confidence-intervals.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
